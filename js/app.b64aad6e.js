(function(t){function e(e){for(var i,r,s=e[0],c=e[1],l=e[2],d=0,b=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&b.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(b.length)b.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],i=!0,s=1;s<o.length;s++){var c=o[s];0!==n[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=o[0]))}return t}var i={},n={app:0},a=[];function r(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=i,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/unnotech-frontend-recruit/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"00b3":function(t,e,o){"use strict";o("0a17")},"0a17":function(t,e,o){},"2abb":function(t,e,o){"use strict";o("5a06")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],r=(o("5c0b"),o("2877")),s={},c=Object(r["a"])(s,n,a,!1,null,null,null),l=c.exports,u=o("8c4f"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"books"},[o("div",{staticClass:"container",class:{adjustMargin:t.detail}},[t._m(0),o("div",{staticClass:"row"},t._l(t.books,(function(e){return o("div",{key:e.id,staticClass:"col-12 col-md-6 col-lg-4 cardHover mb-6 wow animate__animated animate__fadeInUp",attrs:{"data-wow-duration":".5s"}},[o("a",{on:{click:function(o){return o.preventDefault(),t.showDetail(e.id)}}},[o("div",{staticClass:"card",class:{"border-bottom-0":t.selectedBookId===e.id}},[o("img",{staticClass:"card-img-top card-image p-4 p-md-6",attrs:{src:e.image,alt:""}}),o("div",{staticClass:"card-body transition",class:{"bg-primary border-2 border-top border-secondary":e.id===t.selectedBookId}},[o("h5",{staticClass:"card-title row-limit-1 transition mb-0"},[t._v(" "+t._s(e.name)+" ")])])])])])})),0)]),o("router-view",{attrs:{detail:t.detail},on:{hideDetail:t.changeDetail}})],1)},b=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row g-0"},[o("div",{staticClass:"intro col-12 d-flex justify-content-center align-items-center bg-dark mb-6"},[o("h1",{staticClass:"fs-2 w-100 text-center text-light fw-light border-2 border-bottom border-primary"},[t._v(" BOOK STORE BACK END ")])])])}],f={name:"books",components:{},data:function(){return{books:[],detail:!1,selectedBookId:""}},methods:{getAllBooks:function(){var t=this,e="".concat("https://fe-interview-api.unnotech.com","/books");this.$http.get(e).then((function(e){t.books=e.data}))},showDetail:function(t){this.selectedBookId=t,this.detail=!0,this.$router.push("/books/".concat(t)).catch((function(t){return t}))},changeDetail:function(){this.detail=!this.detail}},created:function(){this.getAllBooks()}},p=f,h=(o("2abb"),Object(r["a"])(p,d,b,!1,null,"58b1be26",null)),m=h.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bookDetail w-100",class:{hideDetail:!t.detail},style:{"--bookDetailHeight":t.bookDetailHeight}},[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("div",{staticClass:"card border-top-0"},[o("div",{staticClass:"card-header px-4 bg-dark d-flex justify-content-between"},[o("h5",{staticClass:"text-light fw-light align-self-center mb-0"},[t._v(t._s(t.book.name))]),o("button",{staticClass:"btn btn-primary ms-2",on:{click:function(e){return t.hideDetail()}}},[o("i",{staticClass:"fas fa-arrow-down"})])]),o("div",{staticClass:"card-body px-4 d-flex flex-wrap justify-content-between border-3 border-top border-primary"},[o("div",{staticClass:"d-flex flex-wrap"},[o("div",{staticClass:"price d-flex me-0 me-md-8 mb-3 mb-md-0"},[o("span",{staticClass:"me-4 mb-0 align-self-center"},[t._v("價格")]),o("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.attributeMinus("price")}}},[t._v("-")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.bookProfile.price,expression:"bookProfile.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.bookProfile.price},on:{input:function(e){e.target.composing||t.$set(t.bookProfile,"price",e.target.value)}}}),o("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.attributePlus("price")}}},[t._v("+")])]),o("div",{staticClass:"quantity d-flex me-0 me-md-auto mb-3 mb-md-0"},[o("span",{staticClass:"me-4 mb-0 align-self-center"},[t._v("數量")]),o("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.attributeMinus("count")}}},[t._v("-")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.bookProfile.count,expression:"bookProfile.count"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.bookProfile.count},on:{input:function(e){e.target.composing||t.$set(t.bookProfile,"count",e.target.value)}}}),o("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.attributePlus("count")}}},[t._v("+")])])]),o("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.updateDetail()}}},[t._v("確認送出")])])])])])])],1)},v=[],g=(o("a9e3"),o("99af"),{props:["detail"],name:"BookDetail",components:{},data:function(){return{bookDetailHeight:"",isLoading:!1,bookId:"",book:{id:Number,name:String,image:String},bookProfile:{id:Number,price:Number,count:Number}}},methods:{getBook:function(){var t=this,e="".concat("https://fe-interview-api.unnotech.com","/books/").concat(this.bookId);this.$http.get(e).then((function(e){t.book=e.data})),console.log("this book is",this.book)},getBookDetail:function(){var t=this,e="".concat("https://fe-interview-api.unnotech.com","/profile/").concat(this.bookId);this.$http.get(e).then((function(e){t.bookProfile=e.data}))},updateDetail:function(){var t=this;if(this.bookProfile.price<0||this.bookProfile.count<0)console.log("你是想送人書，還是發錢麼!!?");else if(isNaN(this.bookProfile.price)||isNaN(this.bookProfile.count))console.log("請勿輸入非數字格式");else{var e="".concat("https://fe-interview-api.unnotech.com","/profile/").concat(this.bookId);this.isLoading=!0,this.$http.patch(e,{price:this.bookProfile.price,count:this.bookProfile.count}).then((function(e){t.getBookDetail(),t.isLoading=!1}))}},attributePlus:function(t){this.bookProfile[t]++},attributeMinus:function(t){this.bookProfile[t]>0?this.bookProfile[t]--:console.log("你是想送人書，還是發錢麼!!?")},resizeHandler:function(){this.bookDetailHeight=document.querySelector(".bookDetail").getBoundingClientRect().height+25,this.bookDetailHeight="".concat(this.bookDetailHeight,"px")},hideDetail:function(){this.$emit("hideDetail")}},watch:{$route:function(t,e){this.bookId=this.$route.params.bookId,this.getBook()},bookId:function(t,e){this.getBookDetail()}},created:function(){this.bookId=this.$route.params.bookId,this.getBook()},beforeMount:function(){window.addEventListener("resize",this.resizeHandler)},mounted:function(){this.resizeHandler()},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler)}}),w=g,y=(o("00b3"),Object(r["a"])(w,k,v,!1,null,"b9a2418e",null)),C=y.exports;i["a"].use(u["a"]);var _=[{path:"*",redirect:"/books"},{path:"/",redirect:"/books"},{path:"/books",name:"Books",component:m,children:[{path:":bookId",name:"BookDetail",component:C}]}],P=new u["a"]({mode:"hash",routes:_}),x=P,D=o("bc3a"),B=o.n(D),O=o("2106"),j=o.n(O),$=o("9062"),I=o.n($),H=(o("e40d"),o("77ed")),N=o.n(H),M=o("4a26"),S=o.n(M);i["a"].use(j.a,B.a),i["a"].component("Loading",I.a),i["a"].use(N.a),new S.a({boxClass:"wow",animateClass:"animated",offset:65,mobile:!0,live:!0,resetAnimation:!0}).init(),i["a"].config.productionTip=!1,new i["a"]({router:x,render:function(t){return t(l)}}).$mount("#app")},"5a06":function(t,e,o){},"5c0b":function(t,e,o){"use strict";o("9c0c")},"9c0c":function(t,e,o){}});
//# sourceMappingURL=app.b64aad6e.js.map